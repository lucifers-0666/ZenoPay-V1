<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ZenoPay Profile</title>
    <link rel="stylesheet" href="/css/dashboard.css" />
    <link rel="stylesheet" href="/css/header.css" />
    <link rel="stylesheet" href="/css/profile.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Sidebar -->
    <%- include('partials/header') %>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Navigation Bar -->
      <%- include('partials/navbar') %>

      <div class="profile-container">
        <!-- Profile Header -->
        <div class="profile-header">
          <div class="profile-header-content">
            <img
              src="https://placehold.co/150x150?text=User"
              alt="Profile"
              class="profile-avatar"
            />
            <div class="profile-info">
              <h1 class="profile-name">
                <i class="fas fa-user-circle"></i>
                John Doe
              </h1>
              <p class="profile-email">
                <i class="fas fa-envelope"></i>
                john.doe@example.com
              </p>
              <div class="profile-stats">
                <div class="stat-item">
                  <i class="fas fa-wallet"></i>
                  <div>
                    <span class="stat-label">Total Balance</span>
                    <div class="stat-balance-container">
                      <span
                        class="stat-value"
                        id="totalBalance"
                        data-balance="₹ 1,25,000.00"
                        >₹ XX,XXX.XX</span
                      >
                      <button
                        class="stat-toggle-btn"
                        onclick="toggleBalance('totalBalance', 'totalBalanceIcon')"
                      >
                        <i class="fas fa-eye" id="totalBalanceIcon"></i>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="stat-item">
                  <i class="fas fa-calendar-check"></i>
                  <div>
                    <span class="stat-label">Member Since</span>
                    <span class="stat-value">Jan 2024</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Navigation Tabs -->
        <div class="profile-tabs">
          <div class="tabs-nav">
            <button class="tab-btn active" onclick="switchTab('personal')">
              <i class="fas fa-user"></i>
              Personal Info
            </button>
            <button class="tab-btn" onclick="switchTab('accounts')">
              <i class="fas fa-university"></i>
              Bank Accounts
            </button>
            <button class="tab-btn" onclick="switchTab('cards')">
              <i class="fas fa-credit-card"></i>
              Debit Cards
            </button>
          </div>
        </div>

        <!-- Tab Content -->
        <!-- Personal Information Tab -->
        <div id="tab-personal" class="tab-content active">
          <div class="profile-section">
            <h2 class="section-title">
              <i class="fas fa-info-circle"></i>
              Complete Profile Details
            </h2>

            <div class="info-grid">
              <div class="info-item">
                <div class="info-label">
                  <i class="fas fa-user"></i>
                  Full Name
                </div>
                <div class="info-value">John Doe</div>
              </div>

              <div class="info-item">
                <div class="info-label">
                  <i class="fas fa-id-badge"></i>
                  Aadhaar Number
                </div>
                <div class="info-value">1234 5678 9012</div>
              </div>

              <div class="info-item">
                <div class="info-label">
                  <i class="fas fa-envelope"></i>
                  Email Address
                </div>
                <div class="info-value">john.doe@example.com</div>
              </div>

              <div class="info-item">
                <div class="info-label">
                  <i class="fas fa-phone"></i>
                  Mobile Number
                </div>
                <div class="info-value">+91 98765 43210</div>
              </div>

              <div class="info-item">
                <div class="info-label">
                  <i class="fas fa-calendar-alt"></i>
                  Date of Birth
                </div>
                <div class="info-value">15/08/1990</div>
              </div>

              <div class="info-item">
                <div class="info-label">
                  <i class="fas fa-venus-mars"></i>
                  Gender
                </div>
                <div class="info-value">Male</div>
              </div>

              <div class="info-item">
                <div class="info-label">
                  <i class="fas fa-male"></i>
                  Father's Name
                </div>
                <div class="info-value">Robert Doe</div>
              </div>

              <div class="info-item">
                <div class="info-label">
                  <i class="fas fa-female"></i>
                  Mother's Name
                </div>
                <div class="info-value">Mary Doe</div>
              </div>

              <div class="info-item">
                <div class="info-label">
                  <i class="fas fa-map-marker-alt"></i>
                  Address
                </div>
                <div class="info-value">123 Main Street, Apartment 4B</div>
              </div>

              <div class="info-item">
                <div class="info-label">
                  <i class="fas fa-city"></i>
                  City
                </div>
                <div class="info-value">Mumbai</div>
              </div>

              <div class="info-item">
                <div class="info-label">
                  <i class="fas fa-map"></i>
                  State
                </div>
                <div class="info-value">Maharashtra</div>
              </div>

              <div class="info-item">
                <div class="info-label">
                  <i class="fas fa-mailbox"></i>
                  Pincode
                </div>
                <div class="info-value">400001</div>
              </div>
            </div>

            <div class="action-buttons">
              <span class="verified-badge">
                <i class="fas fa-check-circle"></i>
                Verified Profile
              </span>
            </div>
          </div>
        </div>

        <!-- Bank Accounts Tab -->
        <div id="tab-accounts" class="tab-content">
          <div class="profile-section">
            <h2 class="section-title">
              <i class="fas fa-university"></i>
              My Bank Accounts
            </h2>

            <div class="bank-accounts-grid">
              <div class="bank-card">
                <div class="bank-card-header">
                  <div class="bank-name">
                    <i class="fas fa-university"></i>
                    State Bank of India
                  </div>
                  <div class="bank-status-badge active">
                    <i class="fas fa-check-circle"></i> Active
                  </div>
                </div>
                <div class="bank-card-body">
                  <div class="bank-logo-container">
                    <img
                      src="/Images/bgFavicon.png"
                      alt="ZenoPay"
                      class="bank-logo-img"
                    />
                  </div>
                  <div class="bank-account-info">
                    <div class="account-number-section">
                      <span class="account-label">Account Number</span>
                      <div class="account-number-container">
                        <span class="account-number">1234 5678 9012 3456</span>
                        <button
                          class="copy-btn"
                          onclick="copyAccountNumber('1234567890123456', this)"
                        >
                          <i class="fas fa-copy"></i>
                        </button>
                      </div>
                    </div>
                    <div class="account-type-section">
                      <span class="account-label">Account Type</span>
                      <span class="account-type">Savings</span>
                    </div>
                  </div>
                  <div class="bank-card-actions">
                    <div class="bank-id-section">
                      <span class="bank-id-label">Bank ID</span>
                      <span class="bank-id-value">SBI001234</span>
                    </div>
                    <button class="btn-view-more">
                      <i class="fas fa-info-circle"></i> View More
                    </button>
                  </div>
                  <div class="balance-container">
                    <div class="balance-label">Available Balance</div>
                    <div class="balance-amount-container">
                      <div
                        class="balance-amount"
                        id="balance1"
                        data-balance="₹ 75,250.50"
                      >
                        ₹ XX,XXX.XX
                      </div>
                      <button
                        class="balance-toggle-btn"
                        onclick="toggleBalance('balance1', 'balanceIcon1')"
                      >
                        <i class="fas fa-eye" id="balanceIcon1"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <div class="bank-card">
                <div class="bank-card-header">
                  <div class="bank-name">
                    <i class="fas fa-university"></i>
                    HDFC Bank
                  </div>
                  <div class="bank-status-badge active">
                    <i class="fas fa-check-circle"></i> Active
                  </div>
                </div>
                <div class="bank-card-body">
                  <div class="bank-logo-container">
                    <img
                      src="/Images/bgFavicon.png"
                      alt="ZenoPay"
                      class="bank-logo-img"
                    />
                  </div>
                  <div class="bank-account-info">
                    <div class="account-number-section">
                      <span class="account-label">Account Number</span>
                      <div class="account-number-container">
                        <span class="account-number">9876 5432 1098 7654</span>
                        <button
                          class="copy-btn"
                          onclick="copyAccountNumber('9876543210987654', this)"
                        >
                          <i class="fas fa-copy"></i>
                        </button>
                      </div>
                    </div>
                    <div class="account-type-section">
                      <span class="account-label">Account Type</span>
                      <span class="account-type">Current</span>
                    </div>
                  </div>
                  <div class="bank-card-actions">
                    <div class="bank-id-section">
                      <span class="bank-id-label">Bank ID</span>
                      <span class="bank-id-value">HDFC009876</span>
                    </div>
                    <button class="btn-view-more">
                      <i class="fas fa-info-circle"></i> View More
                    </button>
                  </div>
                  <div class="balance-container">
                    <div class="balance-label">Available Balance</div>
                    <div class="balance-amount-container">
                      <div
                        class="balance-amount"
                        id="balance2"
                        data-balance="₹ 49,749.50"
                      >
                        ₹ XX,XXX.XX
                      </div>
                      <button
                        class="balance-toggle-btn"
                        onclick="toggleBalance('balance2', 'balanceIcon2')"
                      >
                        <i class="fas fa-eye" id="balanceIcon2"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="action-buttons">
              <a href="/open-account" class="btn btn-primary">
                <i class="fas fa-plus"></i>
                Open New Account
              </a>
            </div>
          </div>
        </div>

        <!-- Debit Cards Tab -->
        <div id="tab-cards" class="tab-content">
          <div class="profile-section">
            <h2 class="section-title">
              <i class="fas fa-credit-card"></i>
              My Debit Cards
            </h2>

            <div class="debit-cards-container">
              <!-- Card 1 - SBI Visa -->
              <div class="debit-card">
                <div class="card-top-section">
                  <div class="card-bank-name-top">STATE BANK OF INDIA</div>
                  <div class="card-status-badge active">
                    <i class="fas fa-check-circle"></i> Active
                  </div>
                </div>
                <div class="card-chip">
                  <i class="fas fa-microchip"></i>
                </div>
                <div class="card-logo">
                  <img
                    src="/Images/bgFavicon.png"
                    alt="ZenoPay"
                    class="zenopay-logo-img"
                  />
                </div>
                <div class="card-number-container">
                  <div
                    class="card-number"
                    id="cardNum1"
                    data-number="4532 7856 9012 3456"
                  >
                    **** **** **** 3456
                  </div>
                  <button
                    class="card-toggle-btn"
                    onclick="toggleCardNumber('cardNum1', 'cardIcon1')"
                  >
                    <i class="fas fa-eye" id="cardIcon1"></i>
                  </button>
                </div>
                <div class="card-details">
                  <div class="card-holder">
                    <div class="card-label">CARD HOLDER</div>
                    <div class="card-value">ASHOK KUMAR SHAH</div>
                  </div>
                  <div class="card-expiry">
                    <div class="card-label">VALID THRU</div>
                    <div class="card-value">12/27</div>
                  </div>
                  <div class="card-cvv">
                    <div class="card-label">CVV</div>
                    <div class="card-cvv-container">
                      <div class="card-value" id="cvv1" data-cvv="842">***</div>
                      <button
                        class="card-cvv-btn"
                        onclick="toggleCVV('cvv1', 'cvvIcon1')"
                      >
                        <i class="fas fa-eye" id="cvvIcon1"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Card 2 - HDFC Mastercard -->
              <div class="debit-card debit-card-dark">
                <div class="card-top-section">
                  <div class="card-bank-name-top">HDFC BANK</div>
                  <div class="card-status-badge active">
                    <i class="fas fa-check-circle"></i> Active
                  </div>
                </div>
                <div class="card-chip">
                  <i class="fas fa-microchip"></i>
                </div>
                <div class="card-logo">
                  <img
                    src="/Images/bgFavicon.png"
                    alt="ZenoPay"
                    class="zenopay-logo-img"
                  />
                </div>
                <div class="card-number-container">
                  <div
                    class="card-number"
                    id="cardNum2"
                    data-number="5412 3456 7890 7654"
                  >
                    **** **** **** 7654
                  </div>
                  <button
                    class="card-toggle-btn"
                    onclick="toggleCardNumber('cardNum2', 'cardIcon2')"
                  >
                    <i class="fas fa-eye" id="cardIcon2"></i>
                  </button>
                </div>
                <div class="card-details">
                  <div class="card-holder">
                    <div class="card-label">CARD HOLDER</div>
                    <div class="card-value">ASHOK KUMAR SHAH</div>
                  </div>
                  <div class="card-expiry">
                    <div class="card-label">VALID THRU</div>
                    <div class="card-value">08/26</div>
                  </div>
                  <div class="card-cvv">
                    <div class="card-label">CVV</div>
                    <div class="card-cvv-container">
                      <div class="card-value" id="cvv2" data-cvv="529">***</div>
                      <button
                        class="card-cvv-btn"
                        onclick="toggleCVV('cvv2', 'cvvIcon2')"
                      >
                        <i class="fas fa-eye" id="cvvIcon2"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Mobile Footer Navigation -->
      <footer class="mobile-footer">
        <nav class="footer-nav">
          <a href="/dashboard" class="footer-nav-item">
            <i class="fas fa-home"></i>
            <span>Home</span>
          </a>
          <a href="/transfer-money" class="footer-nav-item">
            <i class="fas fa-exchange-alt"></i>
            <span>Transfer</span>
          </a>
          <a href="/profile" class="footer-nav-item active">
            <i class="fas fa-user"></i>
            <span>Profile</span>
          </a>
          <a href="/notifications" class="footer-nav-item">
            <i class="fas fa-bell"></i>
            <span>Alerts</span>
          </a>
          <a href="/shop" class="footer-nav-item">
            <i class="fas fa-shopping-cart"></i>
            <span>Shop</span>
          </a>
        </nav>
      </footer>

      <script src="/js/header.js"></script>
      <script>
        // Tab Switching Function
        function switchTab(tabName) {
          // Hide all tab contents
          const tabContents = document.querySelectorAll(".tab-content");
          tabContents.forEach((content) => {
            content.classList.remove("active");
          });

          // Remove active class from all buttons
          const tabButtons = document.querySelectorAll(".tab-btn");
          tabButtons.forEach((btn) => {
            btn.classList.remove("active");
          });

          // Show selected tab content
          document.getElementById("tab-" + tabName).classList.add("active");

          // Add active class to clicked button
          event.target.closest(".tab-btn").classList.add("active");
        }

        // Toggle Card Number Visibility
        function toggleCardNumber(cardId, iconId) {
          const cardElement = document.getElementById(cardId);
          const iconElement = document.getElementById(iconId);
          const fullNumber = cardElement.getAttribute("data-number");
          const maskedNumber = "**** **** **** " + fullNumber.slice(-4);

          if (cardElement.textContent.includes("*")) {
            cardElement.textContent = fullNumber;
            iconElement.classList.remove("fa-eye");
            iconElement.classList.add("fa-eye-slash");
          } else {
            cardElement.textContent = maskedNumber;
            iconElement.classList.remove("fa-eye-slash");
            iconElement.classList.add("fa-eye");
          }
        }

        // Toggle CVV Visibility
        function toggleCVV(cvvId, iconId) {
          const cvvElement = document.getElementById(cvvId);
          const iconElement = document.getElementById(iconId);
          const fullCVV = cvvElement.getAttribute("data-cvv");

          if (cvvElement.textContent === "***") {
            cvvElement.textContent = fullCVV;
            iconElement.classList.remove("fa-eye");
            iconElement.classList.add("fa-eye-slash");
          } else {
            cvvElement.textContent = "***";
            iconElement.classList.remove("fa-eye-slash");
            iconElement.classList.add("fa-eye");
          }
        }

        // Toggle Balance Visibility
        function toggleBalance(balanceId, iconId) {
          const balanceElement = document.getElementById(balanceId);
          const iconElement = document.getElementById(iconId);
          const actualBalance = balanceElement.getAttribute("data-balance");

          if (balanceElement.textContent.includes("XX")) {
            balanceElement.textContent = actualBalance;
            iconElement.classList.remove("fa-eye");
            iconElement.classList.add("fa-eye-slash");
          } else {
            balanceElement.textContent = "₹ XX,XXX.XX";
            iconElement.classList.remove("fa-eye-slash");
            iconElement.classList.add("fa-eye");
          }
        }

        // Copy Account Number
        function copyAccountNumber(accountNumber, button) {
          navigator.clipboard.writeText(accountNumber).then(() => {
            const icon = button.querySelector("i");
            icon.classList.remove("fa-copy");
            icon.classList.add("fa-check");
            button.style.background = "rgba(40, 167, 69, 0.4)";

            setTimeout(() => {
              icon.classList.remove("fa-check");
              icon.classList.add("fa-copy");
              button.style.background = "rgba(255, 255, 255, 0.2)";
            }, 2000);
          });
        }
      </script>
    </main>
  </body>
</html>
