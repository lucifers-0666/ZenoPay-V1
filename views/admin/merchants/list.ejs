<!-- Page Header -->
<div class="page-header">
  <div class="page-header-content">
    <h1 class="page-title">Merchants Management</h1>
    <p class="page-subtitle">Monitor and manage all registered merchants</p>
  </div>
</div>

<!-- Stats Cards Row -->
<div class="stats-cards-row">
  <div class="stat-mini-card stat-primary">
    <div class="stat-mini-icon">
      <svg class="icon-24" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2.25-2.25M3 12l2.25 2.25M3 12h18M21 12l-2.25-2.25M21 12l-2.25 2.25M6 6h12v12H6z" />
      </svg>
    </div>
    <div class="stat-mini-content">
      <div class="stat-mini-value" id="totalMerchants">1,284</div>
      <div class="stat-mini-label">Total Merchants</div>
    </div>
  </div>

  <div class="stat-mini-card stat-success">
    <div class="stat-mini-icon">
      <svg class="icon-24" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
      </svg>
    </div>
    <div class="stat-mini-content">
      <div class="stat-mini-value" id="activeMerchants">1,032</div>
      <div class="stat-mini-label">Active Merchants</div>
    </div>
  </div>

  <div class="stat-mini-card stat-warning">
    <div class="stat-mini-icon">
      <svg class="icon-24" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
      </svg>
    </div>
    <div class="stat-mini-content">
      <div class="stat-mini-value" id="pendingMerchants">148</div>
      <div class="stat-mini-label">Pending Approval</div>
    </div>
  </div>

  <div class="stat-mini-card stat-error">
    <div class="stat-mini-icon">
      <svg class="icon-24" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25v13.5m-7.5-13.5v13.5" />
      </svg>
    </div>
    <div class="stat-mini-content">
      <div class="stat-mini-value" id="suspendedMerchants">104</div>
      <div class="stat-mini-label">Suspended</div>
    </div>
  </div>
</div>

<!-- Top Controls Bar -->
<div class="controls-bar">
  <div class="controls-left">
    <div class="search-input-wrapper">
      <svg class="search-icon icon-20" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
      </svg>
      <input type="text" class="search-input" id="merchantSearch" placeholder="Search merchants by name, business, email...">
      <div class="search-spinner" id="searchSpinner" style="display: none;">
        <div class="spinner-small"></div>
      </div>
    </div>
  </div>
  <div class="controls-right">
    <button class="btn-secondary btn-icon" id="filterBtn">
      <svg class="icon-20" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z" />
      </svg>
      Filters
      <span class="badge-pill" id="filterBadge" style="display: none;">0</span>
    </button>
    <button class="btn-secondary btn-icon" id="exportBtn">
      <svg class="icon-20" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
      </svg>
      Export CSV
    </button>
    <button class="btn-primary btn-icon" id="addMerchantBtn">
      <svg class="icon-20" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
      </svg>
      Add Merchant
    </button>
  </div>
</div>

<!-- Filter Panel (Collapsible) -->
<div class="filter-panel" id="filterPanel" style="display: none;">
  <div class="filter-grid">
    <div class="filter-item">
      <label class="filter-label">Status</label>
      <select class="filter-select" id="filterStatus">
        <option value="">All Status</option>
        <option value="active">Active</option>
        <option value="pending">Pending</option>
        <option value="suspended">Suspended</option>
        <option value="rejected">Rejected</option>
      </select>
    </div>

    <div class="filter-item">
      <label class="filter-label">Business Type</label>
      <select class="filter-select" id="filterBusinessType">
        <option value="">All Types</option>
        <option value="retail">Retail</option>
        <option value="restaurant">Restaurant</option>
        <option value="online">Online</option>
        <option value="service">Service</option>
      </select>
    </div>

    <div class="filter-item">
      <label class="filter-label">Verification</label>
      <select class="filter-select" id="filterVerification">
        <option value="">All</option>
        <option value="verified">Verified</option>
        <option value="unverified">Unverified</option>
      </select>
    </div>

    <div class="filter-item">
      <label class="filter-label">Registration Date</label>
      <div class="date-range-inputs">
        <input type="date" class="filter-input" id="filterDateFrom" placeholder="From">
        <span class="date-separator">to</span>
        <input type="date" class="filter-input" id="filterDateTo" placeholder="To">
      </div>
    </div>
  </div>

  <div class="filter-actions">
    <button class="btn-text" id="clearFiltersBtn">Clear All</button>
    <button class="btn-primary" id="applyFiltersBtn">Apply Filters</button>
  </div>
</div>

<!-- Merchants Table Card -->
<div class="card table-card">
  <div class="table-responsive">
    <table class="data-table" id="merchantsTable">
      <thead>
        <tr>
          <th class="th-checkbox">
            <input type="checkbox" class="checkbox" id="selectAll">
          </th>
          <th>Merchant</th>
          <th>Business Type</th>
          <th>Status</th>
          <th>Verification</th>
          <th>Total Volume</th>
          <th>Commission</th>
          <th>Registered Date</th>
          <th class="th-actions">Actions</th>
        </tr>
      </thead>
      <tbody id="merchantsTableBody">
        <!-- Table rows will be populated by JavaScript -->
      </tbody>
    </table>

    <!-- Empty State -->
    <div class="empty-state" id="emptyState" style="display: none;">
      <svg class="empty-icon" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2.25-2.25M3 12l2.25 2.25M3 12h18M21 12l-2.25-2.25M21 12l-2.25 2.25M6 6h12v12H6z" />
      </svg>
      <h3 class="empty-title">No merchants found</h3>
      <p class="empty-text">Try adjusting your filters or search query</p>
      <button class="btn-secondary" id="resetFiltersBtn">Reset Filters</button>
    </div>
  </div>

  <!-- Pagination -->
  <div class="table-footer" id="tableFooter">
    <div class="pagination-info">
      <span id="paginationInfo">Showing 1 to 10 of 1,284 merchants</span>
      <select class="rows-per-page-select" id="rowsPerPage">
        <option value="10" selected>10 per page</option>
        <option value="25">25 per page</option>
        <option value="50">50 per page</option>
        <option value="100">100 per page</option>
      </select>
    </div>
    <div class="pagination-controls" id="paginationControls">
      <button class="btn-pagination" id="prevPage" disabled>
        <svg class="icon-16" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
        </svg>
      </button>
      <div class="pagination-numbers" id="paginationNumbers">
        <!-- Page numbers will be populated by JavaScript -->
      </div>
      <button class="btn-pagination" id="nextPage">
        <svg class="icon-16" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
        </svg>
      </button>
    </div>
  </div>
</div>

<!-- Actions Dropdown Menu Template -->
<div class="actions-dropdown" id="actionsDropdown" style="display: none;">
  <button class="dropdown-item" data-action="view">
    <svg class="icon-16" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z" />
      <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
    </svg>
    View Details
  </button>
  <button class="dropdown-item" data-action="verify">
    <svg class="icon-16" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z" />
    </svg>
    Verify Merchant
  </button>
  <button class="dropdown-item" data-action="suspend">
    <svg class="icon-16" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25v13.5m-7.5-13.5v13.5" />
    </svg>
    Suspend
  </button>
  <button class="dropdown-item" data-action="edit">
    <svg class="icon-16" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
    </svg>
    Edit
  </button>
  <button class="dropdown-item dropdown-item-danger" data-action="delete">
    <svg class="icon-16" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0" />
    </svg>
    Delete
  </button>
</div>
